Last modified: Richard Bown 10.7.2001


artsd version
-------------

MIDI recording only works with arts-0.5.4 and arts-extras-0.5.4
or later.  Install to (say) /opt/arts-0.5.4 and ensure LD_LIBRARY_PATH,
path and the setup in your .mcoprc point to the latest version.

Starting and stopping artsd
---------------------------

Artsd starts with your UID as you log into (say) KDE.  When developing
the MIDI stuff so far it's advisable to run artsd in the foreground with
debug on ('-l0') to catch any messages.  If you do restart artsd many
arts client applications will fail and crash (Arts Control for example).
These will have to be restarted also.

Start artsd like this:

 % artsd -F 10 -S 4096 -a oss -l0

On a default installation create the OSS midi ports by trying either
/dev/midi or /dev/midi00.

Once Rosegarden starts up it'll create two new clients labelled
Playback and Record that can be connected to OSS ports or whatever
else is available in the Midi Manager.


Registering the Rosegarden implementations with artsd
-----------------------------------------------------

To get artsd to work with the Rosegarden MCOP implementations
we have to tweak your $HOME/.mcoprc file and restart artsd to
pick up the changes.

You need to add entries to the directory that holds these files:

  RosegardenMidiRecord.mcopclass
  libMidiArts.la

A complete example file as follows:


  # global port - we use the temp directory
  #
  #
  GlobalComm=Arts::TmpGlobalComm

  # rwb 06/01 - don't use spaces between the elements in this list
  # as aRts won't pick them up.
  #
  #
  ExtensionPath="/usr/lib","/usr/lib/mcop","/home/bownie/rosegarden/sound/"
  TraderPath="/usr/lib/mcop","/home/bownie/rosegarden/sound/"


Then restart artsd.
