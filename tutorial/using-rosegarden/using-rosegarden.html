<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Using Rosegarden</title>
    <link rel="stylesheet" href="../rose.css" media="screen">
    <meta name="robots" content="index">
    <meta name="keywords" content="Rosegarden tutorial, music notation, score, MIDI, sequencer, open source, free, shareware, Unix, Linux, SGI">
    <meta name="description" content="Using Rosegarden is a ">
    <script type="text/javascript" src="../rosenav.js"></script>
  </head>
  <body>
    <div id="heading">
      <img src="../roses.png" alt="" width="183" height="104"><img src="../title-rosegarden.png" alt="Rosegarden" width="400" height="104">
    </div>

    <div id="nav">
    <script type="text/javascript">makeNav()</script>
    <noscript>
    <a href="http://www.all-day-breakfast.com/rosegarden/">Rosegarden-4</a><br>
    &nbsp;&nbsp;<a href="http://www.all-day-breakfast.com/rosegarden/">project home</a><br>
    &nbsp;&nbsp;<a href="index.html">tutorial home</a><br>
    &nbsp;&nbsp;<a href="using-rosegarden.html">using Rosegarden</a><br>
    </noscript>
    </div>

    <div id="main">
<H1 CLASS="western" STYLE="page-break-before: always">1 Introduction</H1>
<H2 CLASS="western">1.1 What is Rosegarden?</H2>
<P ALIGN=LEFT STYLE="font-style: normal">Rosegarden-4, hereafter
referred to as simply Rosegarden,  is a versatile application that
seeks to be a useful tool for those wanting to create music.  It
combines aspects of a MIDI sequencer, an audio sequencer, and a
notation editor into one convenient, easy to use package that
provides users with a consistent and mostly intuitive interface.</P>
<P ALIGN=LEFT STYLE="font-style: normal">Rosegarden is a native KDE
application that can run on any system that has the KDE and QT
libraries installed, and currently requires a minimum of KDE/QT 3.0
in order to run.  Many of its features may only work Linux systems,
but it is designed to compile and run on any Unix-like platform
capable of running KDE.</P>
<H2 CLASS="western">1.2 This Guide's <I>Raison d'&ecirc;tre</I></H2>
<P ALIGN=LEFT STYLE="font-style: normal">My goal in writing this
guide is to help you explore Rosegarden, and to discover ways to use
its features to solve real problems that you might encounter when
creating your own music.  Rosegarden is easy to use, once you come to
understand its framework, but it's not quite like anything you are
likely to have used in the past.  As such, I wish to take you on a
guided tour through Rosegarden, to demonstrate many of its
capabilities, and to offer you a foundation from which your own
creative projects can spring.</P>
<P ALIGN=LEFT>My intention here is not to write an exhaustive
technical manual that covers every single possibility in dry detail.
This is a meandering journey through Rosegarden, taking you through
real-world projects, and showing you things of interest along the
way.  I hope that by sharing my experiences and explaining how I've
used Rosegarden to accomplish various and specific goals, we'll both
be able to get more out of time spent with this application.</P>
<H2 CLASS="western">1.3 Requirements</H2>
<P ALIGN=LEFT>I assume that you have at least Rosegarden 4 version
0.8.5, and that it's working properly. I leave it to you to surf to
the Rosegarden download page at 
<A HREF="http://www.all-day-breakfast.com/download.html">http://www.all-day-breakfast.com/download.html</A>
and work outward from there if you don't already have a copy. Several
distros already have a rosegarden4 or rosegarden-4 package available
through mainstream or third-party channels, and if it isn't already,
yours will probably be among them soon.</P>
<P><I>NOTE: Rosegarden is under constant development. As such, some
details or screenshots described here may not exactly match the
software in front of you.  I intend to keep this guide useful, but I
don't have the energy to re-write it and create new images from the
top down every time someone adds a new icon somewhere or reconfigures
a dialog box.  I'm attempting to keep this guide useful to those who
are conservative enough to stay away from CVS, but I may slip.  If
something I'm writing about doesn't seem to exist, chances are that
it was added since the last official release.</I></P>
<H2 CLASS="western">1.4 Intended Audience</H2>
<P>The demonstration projects featured in this guide are all based on
problems that I have solved for myself in the time since I began
using Rosegarden.  They are strongly influenced by my own musical
interest as an amateur, untrained composer, arranger, and musician.</P>
<P>If it's not something I do, I'm not well-equipped to write about
it, and so it behooves you to see where I have gone, and where I'm
going, to decide whether my way of using this package bears any
relevance to what you want to do with the software yourself.  Most
notably, I am not an audio guy, and I barely know anything about the
subject.  If you're dying to dig into some complex audio project, and
you know what terms like &quot;DAW,&quot; &quot;ADAT,&quot; and &quot;MMC&quot;
mean, then I'm afraid I will be of little help.</P>
<P>One might say that Rosegarden is my band in a box. I have precious
little contact with musical people, and so I make heavy use of my
computer as an accompanist in a variety of ways.  I find that it is
much more rewarding to play music with other people, even if those
&quot;other people&quot; are actually me, or a synthesizer.  When I'm
not accompanying myself with other live instruments, I can take
advantage of the vast array of MIDI files available on the internet
as and endless source of material for fun projects.  (Believe me,
there's no other way I would ever get to play Bach.  Real musicians
would be too busy laughing at me to play their parts. :)</P>
<P>I involve a wide variety of source materials in these projects,
but for the purpose of this guide, I will stick with completely
original compositions, so as to avoid any potential copyright issues.
 They may not be <I>good</I> compositions, but I own the rights to
them, and can mangle them any way I choose without fear of any
consequence more dire than rotten food being thrown at my head.</P>
<H2 CLASS="western">1.5 The Author's Studio</H2>
<P>Obviously, what I can actually demonstrate is hardware dependant.
I'd like you to bear in mind what is sitting in front of me as I
write this, and thus I will share the details of my &quot;studio.&quot;
</P>
<P>I'm running a 1.0 GHz Athlon system with 256 MB of RAM. The box
runs Debian Woody with aftermarket KDE 3.0.3 from a third-party
apt-source, and a variety of other add-ons that I've had to compile
for myself along the way in order to get my build environment in line
for bleeding edge software such as Rosegarden. I'm running a
completely stock kernel 2.4.19 that has had no patches applied. (I
probably should look at latency tuning, but I am leery, and have thus
far avoided it.  I enjoy stabilty, and am not keen on giving
applications the authority to trample all over my kernel.)</P>
<P>On the audio side of things, my sole soundcard is a Sound Blaster
PCI 128, driven by ALSA 0.9.0rc6 and Jack from CVS, with Woody's
supplied LADSPA SDK and plugins.</P>
<P>On the MIDI side of things, I have a joystick port MIDI box for
the Sound Blaster, to which I attach a Fatar MIDI-72 controller
keyboard and a Roland SC-33 Sound Canvas. All of the source MIDI
files that I work with in this guide were sequenced to make use of
this particular GS synth, and as such, some of what I say in that
area will not apply or even make sense to you if you're using an XG
or other type of synth to follow along.</P>
<P>In addition to the Roland, I'm running an ALSA soft synth via
iiwusynth 0.2.2. Details of getting these working successfully are
covered in the <A HREF="http://faq.html/">FAQ.</A> I have it compiled
against Jack, but have not yet managed to actually get the two to
co-exist, so I run one or the other, depending on what I want to do
with Rosegarden.</P>
<P>I run Rosegarden from CVS, which I build pretty much every day. 
As of this writing, the latest stable version is Rosegarden-4 0.8.5,
but that version is very old and boring.  CVS is where all the action
is.</P>
<P><BR><BR>
</P>
<H2 CLASS="western" ALIGN=LEFT>1.6 History</H2>
<P ALIGN=LEFT><U><B>Date	Notes</B></U></P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">12/10/02	Initial
public draft</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">12/15/02	Merged
into CVS tree</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">12/16/02	First
re-write begins...</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">12/19/02	Continues...</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">01/01/03	Conversion
from &quot;tutorial&quot; to &quot;guide&quot; and shift of
development model</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">01/12/03	Added
Studio, re-structured to introduce segments in a logical place</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">01/19/03	Greatly
improved Studio chapter, multiple edits and tweaks</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">02/19/03	Minor
cleanup, preparation for the first translation, Studio
improvements...</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none"><BR><BR>
</P>
<H2 CLASS="western">1.7 Getting This Document</H2>
<P>The latest version of the <I>Using Rosegarden</I> is always
available from
<A HREF="http://rosegarden.sourceforge.net/tutorial/using-rosegarden/using-rosegarden.html">http://rosegarden.sourceforge.net/tutorial/using-rosegarden/using-rosegarden.html</A></P>
<P>You'll also want to snag  <A HREF="http://rosegarden.sourceforge.net/tutorial/using-rosegarden/toc.html"><U>toc.html</U></A>
to get the Table of Contents.  If you intend to print this, you can
grab <A HREF="http://rosegarden.sourceforge.net/tutorial/using-rosegarden/using-rosegarden.pdf"><U>using-rosegarden.pdf</U></A>
from the same site.  (The PDF version includes the Table of
Contents.)</P>
<P>You can also get it from CVS in the same way you get Rosegarden.
It's part of the module called <B>tutorial</B>. I'm too lazy to go
dig out and prettily format the instructions for this at the moment,
but I've given you enough of a hint to get there if you dig for it a
bit. :)</P>
<H2 CLASS="western">1.8 Copyright and License</H2>
<P>Copyright &copy; 2002, 2003 by D. Michael McIntyre
&lt;dmmcintyr@users.sourceforge.net&gt;</P>
<P><B><I>Using Rosegarden</I> </B><SPAN STYLE="font-weight: medium">is
released, and its title and contents are protected under the terms of
the </SPAN>GNU Free Documentation License, a copy of which is
available at <A HREF="http://www.gnu.org/licenses/fdl.txt">http://www.gnu.org/licenses/fdl.txt</A></P>
<P>I acknowledge that words like &quot;Roland,&quot; &quot;Yamaha,&quot;
&quot;General MIDI,&quot; &quot;GS,&quot; &quot;XG,&quot; and
numerous others that I haven't even considered, but should have, are
owned by important, well-monied corporations and probably need to
have cute little symbols in circles or superscript or something
attached to their names.  I have far better things to do than try to
figure out which cute little symbols are supposed to go on which
names, but if representatives from any of the corporations who own
those words would be so kind as to inform me which little symbols
need to be attached to them, I will attach such symbols forthwith.</P>
<H2 CLASS="western">1.9 Translations</H2>
<P>A German translation of this document is coming soon.  When it
exists, I'll make appropriate acknowledgements here.  :)</P>
<P>Folks interested in translating this to other languages can drop
me a line at <A HREF="mailto:mmcintyr@swva.net">mmcintyr@swva.net</A>
(my &quot;direct&quot; line..  :)  At this time, getting into a
translation means a big job of keeping up with this as I change it to
reflect the ever-changing Rosegarden, but now that I have one
translator, I'm writing with that in mind, and making a conscious
effort to avoid forcing the translators to do unnecessary work.  If
you want to wait, I'd advise it, but if you're eager to start, there
are some sections that are relatively safe to translate at this time.
 We can talk about it.</P>
<P>It's all new to me, being translated.  I used to <B>be</B><SPAN STYLE="font-weight: medium">
a translator, but I always try to avoid translating something </SPAN><B>into</B><SPAN STYLE="font-weight: medium">
a foreign language when I can, and have no plans to translate this to
other languages for myself.  We'll just have to see how it goes and
feel this out as we go along, but I'll do whatever I can to make your
job easier. </SPAN>
</P>
<H1 CLASS="western" ALIGN=LEFT>2 A First Look</H1>
<H2 CLASS="western">2.1 Starting Rosegarden</H2>
<P ALIGN=LEFT>Let's begin by starting Rosegarden, and having a look
at the <B>Main Window</B>. This is where you get an overall view of
your composition, and control a number of settings and parameters.</P>
<P ALIGN=LEFT><FONT SIZE=2><I>TIP: You might want to consider running
Rosegarden from a command line so you can see what's going on behind
the GUI.  What's gibberish to you may be a great help to the
developers if there are problems, and it's sometimes reassuring to
watch it working behind the scenes when it's too busy processing a
particularly large bit of data to bother repainting its window.</I></FONT></P>
<P ALIGN=LEFT STYLE="font-style: normal">In order to share a common
frame of reference, let's turn on anything that isn't already
displayed by default.</P>
<P ALIGN=LEFT STYLE="font-style: normal; font-weight: medium">Use the
<B>Settings</B> menu to toggle these options. Observe that I had not
toggled on the <B>Chord Name Ruler</B> when I took this snapshot.
Also note that this is, unsurprisingly, where a number of Rosegarden
settings can be configured. We'll come back to some of those later
on:</P>
<P ALIGN=CENTER STYLE="font-style: normal; font-weight: medium"><IMG SRC="using-rosegarden_html_9a2a288.png" NAME="Graphic32" ALIGN=BOTTOM WIDTH=262 HEIGHT=386 BORDER=0></P>
<H2 CLASS="western">2.2 Main Window Overview</H2>
<P>In the <B>Main Window</B>, just below the menu, you will see
the...</P>
<P><B>Toolbars</B>. In addition to the usual standard controls, 
</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/common-toolbar.png" NAME="Graphic39" ALIGN=BOTTOM WIDTH=278 HEIGHT=28 BORDER=0></P>
<P STYLE="font-weight: medium">there are several toolbars specific to
Rosegarden. You'll choose various cursors from the <B>Cursor Toolbar</B>,</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_13d26953.png" NAME="Graphic40" ALIGN=BOTTOM WIDTH=210 HEIGHT=27 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">and there's a subset of
transport tools available in the <B>Transport Toolbar.</B></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/mini-transport.png" NAME="Graphic41" ALIGN=BOTTOM WIDTH=211 HEIGHT=29 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Next in line is the <B>Zoom</B>
slider:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_47dd4a5.png" NAME="Graphic29" ALIGN=BOTTOM WIDTH=270 HEIGHT=27 BORDER=0></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><BR><BR>
</P>
<P>Moving down into the window itself, you'll find the <B>Segment
Parameters Pane</B>, where several segment playback parameters can be
set:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/segment-parameters.png" NAME="Graphic33" ALT="Segment Parameters" ALIGN=BOTTOM WIDTH=242 HEIGHT=137 BORDER=0></P>
<P>The <B>Tracklist</B>, where you manipulate your sequence on a
track level. Notice that each track has a <B>Mute Button </B>
<IMG SRC="using-rosegarden_html_m45ade976.png" NAME="Graphic34" ALIGN=BOTTOM WIDTH=14 HEIGHT=17 BORDER=0>,
to allow you to mute individual tracks, and a<B> Record Button </B>
<IMG SRC="../pixmaps/record-button.png" NAME="Graphic35" ALIGN=BOTTOM WIDTH=16 HEIGHT=17 BORDER=0>,
which selects the destination track for record operations.</P>
<P ALIGN=CENTER><IMG SRC="using-rosegarden_html_38cab470.png" NAME="Graphic36" ALIGN=BOTTOM WIDTH=229 HEIGHT=48 BORDER=0></P>
<P><BR><BR>
</P>
<P>Now we move into the meat of things with the <B>Segment Pane</B>,
where a lot of editing operations take place. At the top, you'll find
the various <B>Rulers</B>,</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/rulers.png" NAME="Graphic44" ALIGN=BOTTOM WIDTH=251 HEIGHT=82 BORDER=0></P>
<P STYLE="font-style: normal">Then the <B>Segment Pane</B> itself,
which is currently empty. We'll do a lot with this later.</P>
<P ALIGN=CENTER STYLE="font-style: normal; font-weight: medium"><IMG SRC="using-rosegarden_html_1ac513b9.png" NAME="Graphic3" ALIGN=BOTTOM WIDTH=550 HEIGHT=148 BORDER=0></P>
<H2 CLASS="western">2.3 Manipulating Segments</H2>
<P>Let's quit looking, and start <I>using</I> Rosegarden.  Unless you
begin with an imported MIDI file, it all starts with a <B>Segment</B>,
which is a convenient container that stores a bit of note data or
audio.  Segments can be cut, pasted, split, re-combined, overlapped
and pretty much rearranged at will, and are very flexible.</P>
<P STYLE="font-weight: medium">You can begin recording to create one,
or you can draw one from scratch.</P>
<P STYLE="font-weight: medium">Use the 
<IMG SRC="using-rosegarden_html_4c452e31.png" NAME="Graphic65" ALIGN=BOTTOM WIDTH=28 HEIGHT=27 BORDER=0>
cursor to create a new segment.  Click and drag it out to the desired
length:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_3c571111.png" NAME="Graphic66" ALIGN=BOTTOM WIDTH=543 HEIGHT=90 BORDER=0></P>
<P><BR><BR>
</P>
<P>You can now edit it with the <B>Matrix </B><SPAN STYLE="font-weight: medium">or
the </SPAN><B>Notation Editor</B><SPAN STYLE="font-weight: medium">,
which we will address later.  For now, go ahead and play with the
segment.</SPAN></P>
<P STYLE="font-weight: medium">Use the 
<IMG SRC="using-rosegarden_html_5b745bd6.png" NAME="Graphic67" ALIGN=BOTTOM WIDTH=27 HEIGHT=25 BORDER=0>
cursor to select a segment:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_1a3ae2b8.png" NAME="Graphic68" ALIGN=BOTTOM WIDTH=492 HEIGHT=116 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-style: normal; font-weight: medium">Drag it
to a new track:</P>
<P ALIGN=CENTER STYLE="font-style: normal; font-weight: medium"><IMG SRC="using-rosegarden_html_m7008681b.png" NAME="Graphic70" ALIGN=BOTTOM WIDTH=458 HEIGHT=140 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-style: normal; font-weight: medium">Hold
down <B>Ctrl</B> while dragging it back,and make a copy:</P>
<P ALIGN=CENTER STYLE="font-style: normal; font-weight: medium"><IMG SRC="using-rosegarden_html_m5ec59c8b.png" NAME="Graphic71" ALIGN=BOTTOM WIDTH=480 HEIGHT=126 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-style: normal; font-weight: medium">Use the
<IMG SRC="using-rosegarden_html_79e4c412.png" NAME="Graphic72" ALIGN=BOTTOM WIDTH=26 HEIGHT=27 BORDER=0>
cursor to split one of the segments, then one of the pieces so that
it overlaps the segment on the other track:</P>
<P ALIGN=CENTER STYLE="font-style: normal; font-weight: medium"><IMG SRC="using-rosegarden_html_m744cffee.png" NAME="Graphic73" ALIGN=BOTTOM WIDTH=470 HEIGHT=120 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium"><I>I don't have time at the
moment to edit more graphics, but I'll mention that you can also
merge segments.  Select two or more segments on any number of tracks,
and use <B>Segments -&gt; Collapse Segments</B> to consolidate them. 
I can't check that at the moment because my CVS copy of Rosegarden
doesn't currently have a working Segments menu.  Oops.  ;)</I></P>
<P ALIGN=LEFT STYLE="font-style: normal; font-weight: medium">By now,
you're probably wondering when we're going to do something useful, so
let's go take a look at the <B>Studio</B>.</P>
<H2 CLASS="western">2.4 The Studio</H2>
<P>Before importing anything into Rosegarden, we're going to want to
set up instrument definitions for all of our MIDI devices so that any
bank changes don't get lost in the translation.  If there's no
<SPAN STYLE="font-weight: medium">instrument definition</SPAN> for a
particular program/bank change, then information will disappear at
import time and the file will be interpreted as pure General MIDI. 
(This is of little consequence if you only use General MIDI, but
setting things up in advance will save you from having to tweak any
imported GS, XG or other device-specific files to correct the lost
program changes.)</P>
<P>The <B>Studio -&gt; Manage MIDI Devices...</B><SPAN STYLE="font-weight: medium">
menu,</SPAN><B> </B>is where all of this is accomplished, and it's
your interface for relating to one of Rosegarden's most unique, and
difficult to understand features.</P>
<P><FONT SIZE=2><I>NOTE:  Many of these features were only recently
added to Rosegarden.  If you're not running at least version 0.8.5,
you'll need to upgrade to 0.8.5 or CVS before you can make use of
these features.  If this chapter is completely baffling to you, check
your version.</I></FONT></P>
<H3 CLASS="western">2.4.1 Instruments, Banks  and Devices 
</H3>
<P STYLE="font-weight: medium">Before you can accomplish anything
with the S<B>tudio </B>facility, you need to understand what a<B>
studio</B> is.  At this writing, the <B>Studio</B> is still under
heavy development, and a clear picture of everything that it will
grow to be has not yet emerged.  The basic idea is to provide a
central place for configuring an interface between Rosegarden and all
the equipment in your own studio.</P>
<P STYLE="font-weight: medium">Every native Rosegarden file contains
a <B>studio</B> definition that describes your <B>devices</B>.  The
idea is that once you have properly configured your <B>studio</B> it
will be very easy to control all of your equipment without having to
worry about the details of what is connected where.  In its present
state, it's somewhat underdeveloped, but I'll attempt to describe
what we've got to work with now, and expect I'll have to make a lot
of changes to this section over time.</P>
<P STYLE="font-weight: medium">A<B> device</B> is a layer of
abstraction intended to provide Rosegarden with a way to relate to
whatever MIDI devices you have connected to your computer.  It is a
data structure that<B> </B>contains up to numerous <B>banks</B>, each
of which contains <B>instrument definitions</B> for up to 128 program
changes.  Each available MIDI output device on your system gets its
own <B>device</B> definition, and all of these are rolled into the
same <B>studio</B>.</P>
<P STYLE="font-weight: medium">If you have only one MIDI device, and
it doesn't support anything more than the basic General MIDI
instrument set, then the<B> studio </B>need only contain one <B>device</B>,<B>
</B>with one <B>bank</B>, with a single set of <B>instrument
definitions </B>attached to your only port, and you're in luck,
because that's how Rosegarden comes configured out of the box.  You
can skip ahead to something more interesting.</P>
<P STYLE="font-weight: medium">If, on the other hand, you have two
soundcards with a MIDI port each, and you're also using an ALSA soft
synth, your <B>studio</B> probably needs to contain several <B>devices</B>.
 Any program or bank change that you wish to be able to transmit must
have a name (or a number) defined as part of the <B>device</B> for
that instrument.  If your synth doesn't respond to program or bank
changes, then you have little use for Rosegarden's <B>Studio
</B>facility.  Most others will want to define program changes of one
form or another.</P>
<H3 CLASS="western">2.4.2 No Global Instrument Definitions</H3>
<P STYLE="font-weight: medium">Every native Rosegarden composition
(<B>.rg</B>) file contains a <B>studio</B>, along with note events
and other types of data.  It's a good idea to configure your <B>studio</B>
early on, because anything you save with incorrect instrument
definitions will need to be corrected later.  It's not absolutely
critical, because there's also a special subset of the Rosegarden
format that stores just the definition for a <B>device</B> in a file
with an <B>.rgd</B> extension, and it's possible to load all or part
of the<B>  </B>instrument definitions these files contain into
existing compositions.  However, the sooner you get things
configured, the less work you'll need to do later.</P>
<P><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: medium">Once
you've configured your </SPAN><B>studio</B><SPAN STYLE="font-weight: medium">,
you can save a copy of it to
</SPAN><B>~/.kde/share/apps/rosegarden/autoload.rg</B><SPAN STYLE="font-weight: medium">,
and it will be applied to anything that you subsequently create,
including MIDI files that you import.  It will </SPAN></SPAN><SPAN STYLE="font-weight: medium"><I>not</I></SPAN><I><B>
</B></I><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: medium">be
applied to pre-existing </SPAN><B>.rg</B><SPAN STYLE="font-weight: medium">
files you load.</SPAN></SPAN></P>
<H3 CLASS="western">2.4.3 A Studio Dissected</H3>
<P STYLE="font-weight: medium">Let's take a look at what an <B>.rgd</B>
file (or the<B> studio</B> portion of an<B> .rg</B> file)<B> </B>might
contain.  In this scenario, the user has two soundcards with an
external MIDI port on each of them, and he is additionally running an
ALSA soft synth on one of them to provide a &quot;virtual&quot; third
MIDI port.  He has a Roland SC-33 attached to the port on soundcard
0, and a Casiotone SUX-10 attached to the port on soundcard 1.  He
has loaded or created instrument definitions for all three
synthesizers, and they are all rolled into one complex <B>.rgd</B>
file.</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_717af1f1.png" NAME="Graphic11" ALIGN=BOTTOM WIDTH=640 HEIGHT=480 BORDER=0></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><BR><BR>
</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<P STYLE="font-weight: medium"><FONT SIZE=2><I>TIP:  These<B> studios</B>
contain <B>devices </B>to represent any hardware that was visible to
Rosegarden at the time of their creation.  For example, you have
three ports available, as in the above scenario.  Once you've saved a
composition as an <B>.rg</B> file, it will thenceforth contain a
<B>studio</B> similar to the above.  If you disable one of your
ports, you'll no longer see the <B>device</B> attached to it, but it
will remain in the file, and will re-appear the next time the port is
visible to Rosegarden.</I></FONT></P>
<H3 CLASS="western">2.4.4 Loading An Instrument Definition</H3>
<P STYLE="font-weight: medium">Now that you have enough background to
understand what I'm about to show you, let's see about changing the
default <B>studio</B>.</P>
<P STYLE="font-weight: medium">Again, this is accomplished via <B>Studio
-&gt; Manage MIDI Devices...</B></P>
<P ALIGN=CENTER><B><IMG SRC="using-rosegarden_html_27114f37.png" NAME="Graphic62" ALIGN=BOTTOM WIDTH=225 HEIGHT=48 BORDER=0></B></P>
<P STYLE="font-weight: medium">To load a<B> device</B>, an instrument
definition, you'll first want to select a destination port from among
those available.  Rosegarden can't quite decide what to call these
portals through which you transmit notes to something that plays
them, and doesn't want to call them &quot;ports.&quot;  It chooses
not to call them anything at all, which can lead to some confusion. 
There's much discussion on this issue, and I'm hopeful that this will
become more clear soon.</P>
<P STYLE="font-weight: medium">In the meantime, you may have
something called &quot;External MIDI 0&quot; or something called
&quot;Dummy MIDI Device&quot; or anything in between.  You'll likely
have to resort to trial and error to figure out what is connected to
what if you have a complex setup.  If you only have one port
available, you have no problem, as in this example:</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<P STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m6dab600e.png" NAME="Graphic30" ALIGN=LEFT WIDTH=396 HEIGHT=158 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P STYLE="font-weight: medium">The first level of the tree is the
path to the MIDI device, whether it's a physical or &quot;virtual&quot;
port.  The branches of the tree point to <B>banks</B>, each of which
can contain instrument definitions for program changes numbered
1-128.  MIDI uses two parameters, called <B>MSB </B>and <B>LSB </B>by
Rosegarden, to change banks,<B> </B>and their implementation is
device-dependent.  Notably, GS and XG have very different ideas about
what to do with banks.  Rosegarden allows you only one definition per
<B>bank</B>, each with a unique <B>MSB/LSB</B> address.</P>
<P STYLE="font-weight: medium">Now, to load a set of standard <B>banks</B>
that will define the instruments available for playing via the
&quot;External MIDI 0&quot; port, use the <B>Import Device</B>
button.</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m4fd278e.png" NAME="Graphic45" ALIGN=BOTTOM WIDTH=372 HEIGHT=111 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">You'll be presented with a
list of <B>devices </B>(<B>.rgd </B>files) from which to choose.  By
default, you'll be presented with selections from the Rosegarden
<B>library</B>:</P>
<P ALIGN=LEFT><B><IMG SRC="using-rosegarden_html_m46b0d54e.png" NAME="Graphic42" ALIGN=BOTTOM WIDTH=865 HEIGHT=558 BORDER=0></B></P>
<P><B>GM</B><SPAN STYLE="font-weight: medium"> is a</SPAN><B> device</B><SPAN STYLE="font-weight: medium">
that contains only the standard General MIDI </SPAN><B>bank</B><SPAN STYLE="font-weight: medium">.
 The </SPAN><B>GS</B><SPAN STYLE="font-weight: medium"> device
contains multiple</SPAN><B> banks</B><SPAN STYLE="font-weight: medium">
providing an</SPAN><B> </B><SPAN STYLE="font-weight: medium">instrument
definition for the Roland GS implementation available on the SC-33
(the SC-55's little cousin.)  I'm not sure what the Kurtzweil ME-1</SPAN><B>
device </B><SPAN STYLE="font-weight: medium">contains, but if you
have one, I'm sure you'll figure it out.  :)</SPAN></P>
<P STYLE="font-weight: medium"><I><FONT SIZE=2>NOTE: You may also
load <B>devices</B> from other locations, of course, by browsing
around to wherever you've left them in the usual fashion.  You may
import banks from both<B> .rg</B> and<B> .rgd</B> files.  The <B>device
</B>definition contained by both types of files is functionally
identical, and <B>.rgd</B> files are offered only as a logical
conveniece</FONT></I>. 
</P>
<P STYLE="font-weight: medium">After you've selected an <B>.rgd</B>
file from somewhere, you'll be presented with a dialog like this:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m52cb1a99.png" NAME="Graphic63" ALIGN=BOTTOM WIDTH=210 HEIGHT=226 BORDER=0></P>
<P><SPAN STYLE="font-weight: medium">The stock </SPAN><B>device</B><SPAN STYLE="font-weight: medium">
files included with Rosegarden are</SPAN> supposed to only contain
definitions to be attached to one port<SPAN STYLE="font-weight: medium">,
so there should only be one &quot;</SPAN><B>Source device</B><SPAN STYLE="font-weight: medium">&quot;
to load.  If you're loading a file that you've created yourself,
which contains multiple </SPAN><B>device</B><SPAN STYLE="font-weight: medium">
definitions, then you may select which one of them to load, and to
which port to attach it.  Currently they are all called &quot;Dummy
MIDI Device,&quot; which is, quite frankly, horrible, but that will
disappear by the next release.</SPAN></P>
<P><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: medium">Make
a choice, and then you can </SPAN><B>Merge Banks</B><SPAN STYLE="font-weight: medium">
or </SPAN><B>Overwrite Banks </B>to see what your choice was<SPAN STYLE="font-weight: medium">.</SPAN></SPAN></P>
<P STYLE="font-style: normal; font-weight: medium">If you choose to
overwrite, any existing definitions will be lost.  If you choose to
merge, your existing definitions will remain in place, and any new
definitions contained in the <B>device</B> you're loading will be
merged in.</P>
<H3 CLASS="western">2.4.5 Creating A Custom Device Definition</H3>
<P STYLE="font-weight: medium">If none of the<B> devices</B> in the<B>
library </B>fit, you can use one of them as a starting point for
rolling your own, or you can build one from scratch.  In order to do
that effectively, you need to determine your synth's implementation. 
Most MIDI synths have a &quot;Tone Table&quot; in the manual
somewhere.  If you're using a soft synth or some other device that
allows random, user-specified instrument assignments, then you'll
have to figure out what to call the instruments that are available
using various combinations of program and bank changes for yourself.</P>
<P STYLE="font-weight: medium">The first step is to determine how
your synth handles bank changes, so you can assign numbers to either
the <B>LSB</B> or <B>MSB</B> parameters.  I'm not sure what those
names actually mean, but trial and error will get you there.  It
turns out that Roland GS uses the <B>MSB</B> for everything, but your
mileage is almost guaranteed to vary.</P>
<P STYLE="font-weight: medium"><FONT SIZE=2><I>NOTE:  Individual
groups of names can only be assigned to a single <B>LSB/MSB</B>
combination, so this can present problems.  When I created the<B> GS</B>
<B>device </B>definition, I had to compromise.  Roland didn't do
consistent things with how types of variations were available via
particular bank change numbers, and there was no way to keep
everything completely logical.  Consequently, there are some 
oddities, such as melodic instruments in bank &quot;FX 1.&quot;  I
named the banks the best way I could figure, using the mechanism
Rosegarden provides, but I'm not completely happy with the result.</I></FONT></P>
<P>Once you've decided what your <B>device</B> definition needs to
contain, and how it should be organized, entering your data is a
straightforward matter.  Use the <B>Add Bank</B><SPAN STYLE="font-weight: medium">
and </SPAN><B>Delete Bank</B><SPAN STYLE="font-weight: medium"> or
</SPAN><B>Delete All Banks </B><SPAN STYLE="font-weight: medium">buttons
as necessary to pave the way.</SPAN></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m4fd278e.png" NAME="Graphic24" ALIGN=BOTTOM WIDTH=372 HEIGHT=111 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">I don't think you'll have
any trouble figuring out what to do.  Just fill in the blanks, or
delete existing names as needed.  To change the name of the bank,
click on it to highlight it, then click on it again, and you should
get an edit cursor.</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT SIZE=2><I>TIP:  The
<B>banks</B> are sorted alphabetically by name, not by <B>LSB/MSB</B>
number.  You may want to bear that in mind when choosing your names,
so that you can force them to sort in some reasonable order.</I></FONT></P>
<P STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m24542160.png" NAME="Graphic64" ALIGN=BOTTOM WIDTH=865 HEIGHT=532 BORDER=0></P>
<P STYLE="font-weight: medium">Once you've defined the names for your
program changes, you can save the<B> device </B>definition to disk
with <B>Export Device</B>.</P>
<P STYLE="font-weight: medium">If you think anyone else might benefit
from having the <B>device</B> definition, you can mail it to me at
<A HREF="mailto:mmcintyr@swva.net"><B>mmcintyr@swva.net</B></A><SPAN STYLE="font-weight: medium">
and I will add it to our growing collection of user contributions. 
There are already several more available than the ones depicted in
the old screenshot above, and new contributions are very welcome.  We
pioneers must do all the work so that future generations can be lazy.
 Just remember that I had to do the GS device from scratch too.  :)</SPAN></P>
<P ALIGN=LEFT><I><FONT SIZE=2><SPAN STYLE="font-weight: medium">REMEMBER:
To avoid having to load instrument definitions again and again, you
can get Rosegarden to use your default setup by copying the </SPAN><B>.rgd
</B><SPAN STYLE="font-weight: medium">file you export to
</SPAN><B>~/.kde/share/apps/rosegarden/autoload.rg</B></FONT></I></P>
<P>Now that your instruments are defined, let's look at how to assign
them to tracks and channels.  This is accomplished in two parts, but
we'll look at the<B> Tracklist</B><SPAN STYLE="font-weight: medium">
first since we're already in the general vicinity.</SPAN></P>
<H3 CLASS="western">2.4.6 Assigning a MIDI Device/Port and Channel</H3>
<P>Click on the <B>&lt;untitled&gt;</B> in one of the tracks, and
you'll be presented with a series of nested menus that allow you to
choose the MIDI device/port and channel for the track.  If a channel
has already had an instrument assignment on another track, the
instrument name will appear in parentheses next to the channel
number.  If you see only numbers, don't worry, as I'll explain the
other half of this process in the next chapter.</P>
<P>Your menus will almost certainly differ, but this is what it looks
like here with default<B> studio</B> settings,<B> </B>without my soft
synth running:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_4358d1f.png" NAME="Graphic37" ALIGN=BOTTOM WIDTH=206 HEIGHT=26 BORDER=0><IMG SRC="../pixmaps/ins2.png" NAME="Graphic38" ALIGN=BOTTOM WIDTH=240 HEIGHT=356 BORDER=0></P>
<P><FONT SIZE=2><I>NOTE:  Observe that even with no instruments
assigned to any channels, a (D) appears beside channel 10.  This
channel is used for percussion in most MIDI implementations.  It is
not currently possible to define names for percussive instruments,
nor to define names for drum kits for synthesizers that make use of
bank changes in order to switch kits (eg. Roland GS).  These items
have been on the table, but are currently shelved.  I'll explain how
to work around this limitation later on.</I></FONT></P>
<H3 CLASS="western">2.4.7 Changing the Track Name</H3>
<P>I'll go ahead and mention this now, while we're already looking at
the <B>Tracklist</B><SPAN STYLE="font-weight: medium">.  You can
change</SPAN> track names by double-clicking on the label. A dialog
should thus appear:</P>
<P ALIGN=CENTER><SPAN STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m3266770c.png" NAME="Graphic43" ALIGN=BOTTOM WIDTH=408 HEIGHT=115 BORDER=0></SPAN><B>
</B>
</P>
<H1 CLASS="western">3 Project 1: Importing a MIDI file</H1>
<H2 CLASS="western">3.1 Importing the File</H2>
<P>It's time to import our first <A HREF="http://midi/ultima.mid">midi
file</A>. Use the <B>File -&gt; Import -&gt; Import MIDI File...</B>
menu to navigate to this <A HREF="http://midi/ultima.mid">file</A>,
and then open it.</P>
<P>Once imported, your screen should resemble this. If it doesn't,
take another look at the <B>Settings</B> menu and toggle all the
optional displays on: 
</P>
<P ALIGN=CENTER><FONT COLOR="#000080"><A HREF="../pixmaps/snapshot1.png"><FONT COLOR="#000080"><IMG SRC="../pixmaps/snapshot1.png" NAME="Graphic1" ALT="screenshot" ALIGN=BOTTOM WIDTH=256 HEIGHT=192 BORDER=2></FONT></A></FONT></P>
<P>While we're at it, let's go ahead and split these huge segments
into smaller pieces.</P>
<P STYLE="font-weight: medium">Use <B>Edit -&gt; Select All Segments</B>
from the menu to highlight all of the segments. Then use <B>Segments
-&gt; Auto-Split</B> to automatically split them, eliminating
sections of silence, and leaving you with little islands of notey
bits. 
</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m2eb3ca92.png" NAME="Graphic51" ALIGN=BOTTOM WIDTH=359 HEIGHT=252 BORDER=0></P>
<P><BR><BR>
</P>
<P>To get a better overview of the composition, use the <B>Zoom</B>
slider to zoom out a bit.  Your screen should then resemble this: 
</P>
<P ALIGN=CENTER><FONT COLOR="#000080"><A HREF="../snapshot4.png"><FONT COLOR="#000080"><IMG SRC="using-rosegarden_html_m6856f77a.png" NAME="Graphic7" ALT="screenshot" ALIGN=BOTTOM WIDTH=256 HEIGHT=192 BORDER=2></FONT></A></FONT></P>
<P ALIGN=LEFT>Now that we've imported the file, let's see how it
fared. Rosegarden is not purely a MIDI sequencer, and a certain
amount of translation takes place when importing MIDI files into
Rosegarden's internal format. Configuring your <B>device</B><SPAN STYLE="font-weight: medium">
definition in the </SPAN><B>Studio </B><SPAN STYLE="font-weight: medium">beforehand
goes a long way toward eliminating trouble, but sometimes</SPAN> the
import process introduces minor problems that need to be corrected,
which we will address directly.</P>
<H2 CLASS="western">3.2 Transport Tools</H2>
<P>First, we need to see what it sounds like. Let's get to know the
<B>Transport</B> window, and the<B> Playback Pointer</B>,<B> </B>which
are two of the tools we'll use to get around in our compositions.</P>
<P>Notice that there's a vertical blue bar in the <B>Segment Pane</B>
of the main window. That is the <B>Playback Pointer</B>. You can move
it to any arbitrary point in the composition by clicking along the
dark gray portion of the <B>Ruler</B> at the top, or you can use the
<B>Transport</B> to move it around. If you don't see it, play with
the <B>Transport</B> or the <B>Ruler </B>until you move it out of
hiding.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/playback-pointer.png" NAME="Graphic31" ALIGN=BOTTOM WIDTH=104 HEIGHT=198 BORDER=0></P>
<P>You should have a separate, floating <B>Transport</B> window like
this one.</P>
<P ALIGN=CENTER><IMG SRC="using-rosegarden_html_m41d8a9c.png" NAME="Graphic2" ALT="Transport Window" ALIGN=BOTTOM WIDTH=428 HEIGHT=161 BORDER=0></P>
<P>Most of these should be self-explanatory. If you can't figure out
what any of the buttons do, hover over them a bit, and
context-sensitive help will pop up.</P>
<P>Of special note are the<B> Panic</B>,<B> Metronome</B>,<B> </B>and<B>
Solo </B>buttons. If they're missing, toggle the</P>
<P> &quot;flap&quot; via the 
<IMG SRC="../pixmaps/flap-toggle.png" NAME="Graphic48" ALIGN=BOTTOM WIDTH=25 HEIGHT=26 BORDER=0>
button.</P>
<P ALIGN=CENTER><I><IMG SRC="using-rosegarden_html_m43e4dfc0.png" NAME="Graphic15" ALIGN=BOTTOM WIDTH=135 HEIGHT=52 BORDER=0></I></P>
<P>The <B>Panic</B> button transmits an &quot;all notes off&quot;
message. Use it, for example, when your synth has gotten a note stuck
and the incessant droning of that low F# is driving you up the wall.</P>
<P>The <B>Metronome</B> does what you'd probably expect. You can turn
the metronome on during normal playback, as well as recording, and it
is a useful tool to use when practicing playing along with your
composition.</P>
<P STYLE="font-weight: medium">The <B>Solo</B> button mutes all
tracks except for the one that's currently selected, allowing you a
convenient way to hear just one part. (To &quot;solo&quot; more than
one part, at present, you'll need to set the mute for tracks
individually. The <B>Solo</B> button only affects a single track.)</P>
<H2 CLASS="western">3.3 Tweaking the Import</H2>
<P>Find the<B> Play/Pause </B>button and give this composition a
listen. It's very likely that it will sound somewhat lame initially.
That's the result of a few issues that Rosegarden needs a bit of help
to work around.</P>
<P>This file was created with Cakewalk, and it includes a SysEx bank
that would have set up the reverb level and various other paremeters
on my synth. That has been lost. It includes percussion on two
separate channels, which is why you're hearing those raunchy piano
notes in the bass (that track was assigned to channel 9), and it's
supposed to use the &quot;OrcheSet&quot; drum kit on my synth. The
program change on channel 10 was lost.</P>
<P ALIGN=LEFT>So, before you write me off as a terrible composer,
let's get this back to the condition it was in when it left Cakewalk
last year. We need to correct for what has been lost in the
translation from raw MIDI to Rosegarden's internal format, and then
we'll play with it.</P>
<P>The first thing we really need to do is fix the percussion. The
most direct way to accomplish this is to assign the &quot;Conga&quot;
track to the same device and channel as the previous track.</P>
<P>Click on the &quot;Conga&quot; track name, and hold the button
down for a moment. Navigate through the various available devices
until you find channel 10. Your results will vary depending on a
number of variables, but here's what it looks like here: <I>(Note
that the &quot;Dummy MIDI Device&quot; will hopefully change into
something more useful soon.)</I></P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/fix-conga.png" NAME="Graphic49" WIDTH=450 HEIGHT=319 BORDER=0></P>
<P>Now, we really need to change the drum kit.  As I mentioned in the<B>
Studio</B><SPAN STYLE="font-weight: medium"> chapter, </SPAN>Rosegarden
can't yet cope with having GS-style named drumkits on channel 10.
It's on the table, but no decision has yet been made as to exactly
how best to implement it. Until then, we'll have to live with having
an instrument listed instead of our drumkit.</P>
<P>I jumped the gun in taking the above snapshot. Note that I have
already assigned the &quot;Strings&quot; program to this channel. It
so happens that &quot;Strings&quot; corresponds to the correct
program number I need to use in order to switch my Sound Canvas to
the &quot;OrcheSet&quot; drum kit.</P>
<P>In order for you to do the same at home, click on either the
&quot;Conga&quot; or the &quot;Orchestral bass, crash &amp; snare&quot;
track name to select it. (Remember that they're both bound to the
same device and channel, so a change made to one will affect the
other.) Now click on the <B>Program</B> button in the <B>Instrument
Parameters </B>pane.</P>
<P ALIGN=CENTER><IMG SRC="using-rosegarden_html_m21c39b4a.png" NAME="Graphic50" ALIGN=BOTTOM WIDTH=175 HEIGHT=249 BORDER=0></P>
<P>If the <B>Program </B>checkbox isn't checked, check it. Now you
can scroll through with your mouse wheel, or select a name from the
drop-down list. It's helpful if your synth has a display so that you
can see when you happen to get to the correct program number. In this
case, &quot;Strings&quot; in the &quot;Capital Tones&quot; bank is
what we're after.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/dropdown.png" NAME="Graphic5" ALT="dropdown list" ALIGN=BOTTOM WIDTH=100 HEIGHT=202 BORDER=0>
</P>
<P STYLE="font-style: normal">Of course your mileage with all of this
will surely vary depending on your synth. You may not have the option
of changing this at all, or may need to use a completely different
method for changing it. XG users, I've learned, will need to use
bank, rather than program changes, to change drum kits. Soft synth
users and others who can make use of them will probably want to load
an appropriate soundfont. Something medievalish would be tasty.
Season to to suit yourself.</P>
<P>Now that the drums are a little more interesting, it's starting to
sound better, but there's still work to do. We need to make up for
that lost SysEx bank by cranking up the reverb.</P>
<H2 CLASS="western" ALIGN=LEFT>3.4<SPAN STYLE="font-style: normal">
Instrument Parameters</SPAN> 
</H2>
<P>The SysEx bank that Cakewalk included with this file has been lost
in the translation. Luckily, Rosegarden makes it easy to set the
initial values for several common controllers right there in the
<B>Instrument Parameters</B> pane. If you didn't notice this before,
take note of the knobs in this pane. 
</P>
<P ALIGN=CENTER><I><IMG SRC="using-rosegarden_html_m2b0e6d92.png" NAME="Graphic6" ALIGN=BOTTOM WIDTH=351 HEIGHT=285 BORDER=0></I></P>
<P>Let's select each track in turn, and dial up the 'verb. Click on
the <B>Reverb</B> knob and either use your mouse wheel or else drag
the cursor in a straight horizontal or vertical line (don't try to
drag it around in a circle) to change the position of the knob. Crank
it up. You can never have too much reverb. Now lather, rinse, repeat
until every track has major 'verbage. (Or reverbificate to taste, if
you insist on having less than maximal 'verbage...) 
</P>
<P>Depending on your synth's implementation, some of these knobs may
not actually be useful to you. If any of these knobs don't seem to
have any effect, blame it on your synth.</P>
<H2 CLASS="western">3.5 More About Segments</H2>
<P>You've seen what segments can do, but there are a few things that
I couldn't demonstrate while the segments were empty.</P>
<H3 CLASS="western" ALIGN=LEFT>3.5.1 Segment Previews</H3>
<P ALIGN=LEFT>Look closely, and you'll notice that each one of the
segments contains a miniature &quot;matrix&quot; or &quot;piano roll&quot;
view. You can get some sense of what that bit of music is like just
by looking at the segment display, which is a useful visual aid when
dragging things around. If this feature is not turned on, turn it on
with <B>Settings -&gt; Segment Previews</B>. Later, we'll see that we
can also manipulate audio segments in similar fashion.</P>
<P ALIGN=CENTER><SPAN STYLE="font-style: normal"><IMG SRC="using-rosegarden_html_m48751921.png" NAME="Graphic8" ALT="enlarged view of segments" ALIGN=BOTTOM WIDTH=501 HEIGHT=283 BORDER=0>
</SPAN>
</P>
<P ALIGN=LEFT STYLE="font-style: normal">Now that the drum kit has
been corrected and both drum parts are playing on the correct
channel, it's starting to shape up.  Now is a good time to mention
the autosave feature.</P>
<P ALIGN=LEFT STYLE="font-style: normal; font-weight: medium"><BR><BR>
</P>
<H2 CLASS="western"><I>3.6 </I><SPAN STYLE="font-style: normal">Autosave
</SPAN><I> (CVS)</I></H2>
<P><I>As always, &quot;save early, save often&quot; is the mantra of
computer users everywhere.  It's never a bad idea to take time out to
save your work, but Rosegarden tries to save you from yourself.</I></P>
<P ALIGN=LEFT><I>I will only mention it in passing for the moment,
because this feature doesn't officially exist yet.  You'll <B>only</B>
find it in CVS.</I></P>
<P ALIGN=LEFT><I>If the GUI crashes for some reason, or you have a
power outage or the like, the next time you start Rosegarden and
attempt to load the file you were working on, you'll be presented
with the option of loading the autosave file instead.  If you hadn't
yet saved the file, you'll find it in your ~/autosave directory with
a basic name of &quot;untitled.&quot;</I></P>
<P ALIGN=LEFT><I>The autosave interval defaults to 60 seconds. 
Configure it via the <B>Settings</B><SPAN STYLE="font-weight: medium">
menu.</SPAN></I></P>
<P ALIGN=LEFT STYLE="font-weight: medium"><I>This feature alone is
probably worth dipping your toe into the waters of CVS if you're not
already building it, because, let's face it folks, this is
pre-release software, and it crashes from time to time.</I></P>
<H1 CLASS="western">4 Let's Edit Some Notation</H1>
<P>For the next phase in our sample project, we want to look at what
is necessary to make the flute part in this composition playable on a
real flute, and then print a score. In this chapter, we'll make some
basic changes to the part and work on cleaning up the humanized
performance data so that it renders as more tidy notes. Later on, in
Chapter 5, we'll add some new material to this part to make it more
exciting to play.</P>
<H2 CLASS="western" ALIGN=LEFT>4.1 Opening the Notation Editor</H2>
<P>Let's get a look at what this part looks like in notation. It will
probably be ugly, since I recorded it on my keyboard instead of
entering it note by note. 
</P>
<P>Let's open the <B>Notation Editor</B> and have a look. Highlight a
segment from the &quot;Flute&quot; track.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/flute-segment.png" NAME="Graphic52" ALIGN=BOTTOM WIDTH=268 HEIGHT=88 BORDER=0></P>
<P>Open the <B>Notation Editor</B> by right-clicking on the segment,
and choosing &quot;<B>Edit as Notation</B>&quot; from the context
submenu. You can also configure this to be your default view via
<B>Settings -&gt; Configure Rosegarden... -&gt; Default Editor</B>,
and thereafter you can get to the <B>Notation Editor</B> by merely
double-clicking the desired segment.</P>
<H2 CLASS="western">4.2 Notation Editor Overview</H2>
<P>We'll be spending a lot of time here in the <B>Notation Editor</B>.
As you'd expect, this is where you go to view and edit your data as
standard notation. This editor has many more features than I will
make use of for my purposes here, but this should be enough of an
introduction for you to get wherever you want to be with your own
projects.</P>
<P>The first thing you'll notice is that there are different toolbars
here. Before looking, let's synchronize our displays. You may not yet
have a <B>Transport Toolbar</B> for this window. Check <B>Settings -&gt;
Show Transport Toolbar</B> and the <B>Transport Toolbar</B> should
appear. It would be a good idea to use <B>Settings -&gt; Save
Settings</B> at this point so that it remains there, as it's very
useful.</P>
<P STYLE="font-weight: medium">Now, let's have a look at the new
toolbars. You can toggle several of these via the <B>Toggle Toolbar</B></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_7a10c848.png" NAME="Graphic57" ALIGN=BOTTOM WIDTH=123 HEIGHT=26 BORDER=0></P>
<P STYLE="font-weight: medium">The <B>Cursor Toolbar</B> has three
cursors, <B>Erase</B>, <B>Select</B>, and <B>Text</B>.</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/notation-cursors-toolbar.png" NAME="Graphic53" ALIGN=BOTTOM WIDTH=95 HEIGHT=28 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">The <B>Note Duration</B>
<B>Toolbar</B> has both regular and dotted flavors of several note
lengths, plus toggles for <B>Chord Insert Mode</B> and <B>Triplet
Insert Mode</B>, which should be self-explanatory. With the <B>Select</B>
cursor highlighted, you can click on a duration and then click on the
staff to insert a note.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">You can toggle accidentals
via the <B>Accidentals Toolbar</B>,</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_b93d8c0.png" NAME="Graphic56" ALIGN=BOTTOM WIDTH=182 HEIGHT=27 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">or you can add rests via
the <B>Rests Toolbar...</B></P>
<P ALIGN=CENTER><B><IMG SRC="../pixmaps/notation-rests-toolbar.png" NAME="Graphic55" ALIGN=BOTTOM WIDTH=418 HEIGHT=27 BORDER=0></B></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Add clefs via the <B>Clefs
Toolbar</B>,</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m223e45b2.png" NAME="Graphic58" ALIGN=BOTTOM WIDTH=123 HEIGHT=28 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">and you can change the font
used to render the notes via this little gadget here:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/notation-font-dongle.png" NAME="Graphic59" ALIGN=BOTTOM WIDTH=124 HEIGHT=27 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">The &quot;RG 2.1&quot; font
isn't as pretty, but it renders more quickly than feta, so may be
useful on slower hardware.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">Use <B>ctrl-Z</B> or <B>Edit
-&gt; Undo</B> to remove the results of your having played with these
things.</P>
<H3 CLASS="western">4.2.1 Controlling Playback</H3>
<P>The <B>Transport Toolbar</B> that we turned on in the preceding
section is the same as in every other window, with two notable
exceptions, which is why I've saved it until now. These extra buttons
are useful for controlling playback when the <B>Playback Pointer</B>
is outside the segment you're editing, and you want to hear what
you're working on.</P>
<P ALIGN=CENTER><IMG SRC="using-rosegarden_html_m4ed48e22.png" NAME="Graphic54" ALIGN=BOTTOM WIDTH=240 HEIGHT=28 BORDER=0></P>
<P ALIGN=LEFT>If you haven't moved it, the <B>Playback Pointer</B> is
at or near the beginning of the composition. This part doesn't come
in until much later, so if we hit the <B>Play</B> button now, we
can't expect to hear anything for awhile.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">The <B>Notation Editor</B>
has its own cursor, which is just like the one in the <B>Segment Pane</B>
of the <B>Main Window</B>, except that this one is magenta. In order
to control playback, you need to be able to manipulate both cursors,
and those two extra buttons on the end of the toolbar help you do
just that.</P>
<P STYLE="font-weight: medium">Let's move the playback cursor to the
beginning of this segment. Click on the ruler above the staff to
position the local cursor, just as the ruler in the <B>Main Window</B>
positions the <B>Playback</B></P>
<P STYLE="font-weight: medium"><B> Pointer</B> itself. Click the
<B>Playback Pointer to Cursor 
<IMG SRC="../pixmaps/notation-pointer-to-cursor.png" NAME="Graphic14" ALIGN=BOTTOM WIDTH=29 HEIGHT=28 BORDER=0>
</B>button to move the playback pointer to the position of the
cursor. Now playback will begin from that point.</P>
<P STYLE="font-weight: medium">You can set it back &quot;out of
sight&quot; so that playback will begin before the start of the
segment</P>
<P STYLE="font-weight: medium"> you're editing by shifting it to the
left via the 
<IMG SRC="using-rosegarden_html_m1a7c1822.png" NAME="Graphic17" ALIGN=BOTTOM WIDTH=33 HEIGHT=31 BORDER=0>
button.</P>
<H3 CLASS="western">4.2.2 Changing the View</H3>
<P>Notice the <B>Size</B>, <B>Spacing</B>, and <B>Smoothing</B>
sliders. (They're camera shy for some reason, and come out black. I'm
sure you'll have no problem figuring out what I'm talking about.)</P>
<P>The <B>Size</B> slider changes the size of the font used to render
the notes.</P>
<P>The <B>Spacing</B> slider can be used to adjust the horizontal
spacing of the notes, to draw them closer or further apart. Useful
for spreading out particularly complicated rhythms for easier
reading.</P>
<P>The <B>Smoothing</B> slider is useful for cleaning up performance
data somewhat, to make it more legible.</P>
<P>All of these controls are also available from the <B>View</B>
menu.</P>
<H2 CLASS="western">4.3 Transposing</H2>
<P ALIGN=LEFT>Now that we've had our bit of fun playing with all the
new toys, let's look at the part and see what it's going to need.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/notation-yucky-notes.png" NAME="Graphic9" ALIGN=BOTTOM WIDTH=467 HEIGHT=128 BORDER=0></P>
<P ALIGN=LEFT>Gack! This definitely should have been a piccolo part.
My head hurts just looking at this stuff. Let's transpose it down an
octave and see what it looks like. Let's make that <B>two</B>
octaves! I can get that high with my flute, but my dog would hate me.
Two octaves are good.</P>
<P>Select <B>Edit -&gt; Select Whole Staff</B>, then go to the
<B>Transforms</B> menu.</P>
<P ALIGN=CENTER><IMG SRC="using-rosegarden_html_35dd04c6.png" NAME="Graphic60" ALIGN=BOTTOM WIDTH=246 HEIGHT=230 BORDER=0></P>
<P>Lots of good stuff to play with here, take note, but we want
<B>Transpose...</B> Since we're going to go down two octaves, we
might as well go for the <B>Transpose...</B> option at the bottom.
Use the arrows to dial down, or else enter -24 into the input box.
Positive numbers mean an upward transposition, and negative numbers
will transpose downward.</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/transpose-box.png" NAME="Graphic10" ALIGN=BOTTOM WIDTH=408 HEIGHT=115 BORDER=0></P>
<H2 CLASS="western">4.4 De-Humanizing</H2>
<P STYLE="font-weight: medium">Now that we're down to a reasonable
register, let's do something about the ugly notes. The problem with
human performance data is that it doesn't scale well into notation.
You'll notice that some of the notes are displaying in yellow. That's
because they're notes whose timing and duration don't quite make
sense to Rosegarden within the context of this measure, so it has
colored them to let you know that the notes on the page are only an
approximation of what will actually be played. To see a view of the
data in a more pure format, use the <B>Matrix</B> or <B>Event List</B>
editors, which we'll take a look at later on.</P>
<P STYLE="font-weight: medium">Since our objective here is to make
the notation more readable, we might as well remain here and alter
the data until it better fits into place within the context of
notation. In this instance, readability is more important to us than
the faithful rendering of a human performance, so we're going to end
up making &quot;physical&quot; changes to the data along the way.</P>
<H3 CLASS="western">4.4.1 Smoothing</H3>
<P STYLE="font-weight: medium">Let's start by seeing what that
<B>Smoothing</B> slider can do for us... Each notch makes the rhythm
progressively less obnoxious to read, leaving the notes in place.
Adjust the slider, and see what results. I found that the final notch
was too high, and the next lower notch was looking better, but wasn't
really quite there.</P>
<P STYLE="font-weight: medium">Let's try making these smoothed values
permanent. Select the whole staff, and let's try <B>Transform -&gt;
Fix Smoothed Values</B>...</P>
<P ALIGN=CENTER><IMG SRC="using-rosegarden_html_829041d.png" NAME="Graphic12" ALIGN=BOTTOM WIDTH=630 HEIGHT=123 BORDER=0></P>
<P STYLE="font-weight: medium">Well, that didn't quite have the
desired effect, did it? The timings are still too far off. Remember
<B>ctrl-Z</B> is a shortcut for <B>Edit -&gt; Undo</B>.</P>
<H3 CLASS="western" ALIGN=LEFT>4.4.2 Quantize</H3>
<P STYLE="font-weight: medium">I think this data is so messy that
we're going to have to quantize it. Let's <B>Undo</B> that last
change, and play with <B>Transform -&gt; Quantize</B> instead. Let's
tell it to <B>Quantize: Event positions, and round durations to exact
notes</B>. We'll leave the <B>Base duration unit</B> at 16<SUP>th</SUP>,
and accept the default <B>Note rounding</B> values and see where that
gets us:</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/quantize.png" NAME="Graphic13" ALIGN=BOTTOM WIDTH=468 HEIGHT=250 BORDER=0></P>
<P STYLE="font-weight: medium">Not too bad. It's looking much better:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_799bfde7.png" NAME="Graphic18" ALIGN=BOTTOM WIDTH=466 HEIGHT=128 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Let's see how those changes
sound, and then we'll see about turning those 16<SUP>th</SUP>
note/rest pairs into something a little easier to read...</P>
<P ALIGN=LEFT STYLE="font-weight: medium">The quantized notes seem to
have fallen into place along sane boundaries without having an undue
impact on the rhythm or feel of the piece. Bearing that in mind,
let's back up a step and see what would have happened if we had
quantized on 8<SUP>th</SUP> note boundaries. Hit<B> ctrl-Z</B> or use<B>
Edit -&gt; Undo</B>, then run through the<B> Transformations -&gt;
Quantize</B> dialog again, specifying a base duration of 8<SUP>th</SUP>
note this time around.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">Very nice indeed, and
Rosegarden has rendered some 16<SUP>th</SUP> notes and other odd bits
as required, ignoring the base duration when it really had to. That's
one of the best jobs of quantization I've seen in a notation editor.
There won't be much clean-up to do from here:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/post-quantized2.png" NAME="Graphic19" ALIGN=BOTTOM WIDTH=360 HEIGHT=78 BORDER=0></P>
<H3 CLASS="western" ALIGN=LEFT>4.4.3  Adding Marks</H3>
<P ALIGN=LEFT STYLE="font-weight: medium">We've changed the flavor
somewhat by lengthening those notes. Let's make them staccato. There
isn't currently an icon for this, but you'll find it on the menu.
First you'll need to make a selection.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">If it's not already the
default, choose the<B>  
<IMG SRC="using-rosegarden_html_5b745bd6.png" NAME="Graphic4" ALIGN=BOTTOM WIDTH=27 HEIGHT=25 BORDER=0></B>
cursor  from the<B> Toolbar</B>. Click at a point to the left of one
of the notes to begin the selection.<B> </B>Drag the blue selection
box so that it includes the first two 8<SUP>th</SUP> notes. When
they're selected, they'll turn blue. Now use <B>Marks -&gt; Add
Staccato</B>. The dots appear:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/post-quantized3.png" NAME="Graphic20" ALIGN=BOTTOM WIDTH=280 HEIGHT=64 BORDER=0></P>
<H3 CLASS="western" ALIGN=LEFT>4.4.4  Auto-Beam</H3>
<P ALIGN=LEFT STYLE="font-weight: medium">Now let's add beams. <B>Edit
-&gt; Select Whole Staff</B>, then <B>Group -&gt; Auto Beam</B> to
beam these notes into logical groupings:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m5d9f5643.png" NAME="Graphic21" ALIGN=BOTTOM WIDTH=348 HEIGHT=94 BORDER=0></P>
<H3 CLASS="western" ALIGN=LEFT>4.4.5 Changing Note Durations</H3>
<P ALIGN=LEFT STYLE="font-weight: medium">One measure further into
the segment, there are some rhythms that could probably be written so
that they're less awkward to count. Let's see about changing them.</P>
<P ALIGN=LEFT STYLE="font-weight: medium">There's an odd dotted 16<SUP>th</SUP>
with 32<SUP>nd</SUP> rest combination that should probably be another
stacatto 8<SUP>th</SUP> note:</P>
<P ALIGN=CENTER><IMG SRC="../pixmaps/post-quantized5.png" NAME="Graphic22" ALIGN=BOTTOM WIDTH=584 HEIGHT=94 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Let's convert that into an
8<SUP>th</SUP> note. Click the 8<SUP>th</SUP> note button 
<IMG SRC="using-rosegarden_html_4b0b8237.png" NAME="Graphic25" ALIGN=BOTTOM WIDTH=53 HEIGHT=52 BORDER=0>
on the <B>Notes Toolbar</B>, then click on the offending dotted 16<SUP>th</SUP>
note's head. It changes into an 8<SUP>th</SUP> note, and the rest
disappears. <I>Note that Rosegarden pads out the rests as necessary,
to keep the correct time in the measure. </I>
</P>
<H3 CLASS="western" ALIGN=LEFT>4.4.6 Let's Add Some Slurs</H3>
<P ALIGN=LEFT STYLE="font-weight: medium">Let's add some slurs as
well. Highlight the first two 8<SUP>th</SUP> notes in this measure,
then use <B>Group -&gt; Add Slur</B>. You should be looking at
something very like this:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/post-quantized6.png" NAME="Graphic23" ALIGN=BOTTOM WIDTH=398 HEIGHT=84 BORDER=0></P>
<H3 CLASS="western" ALIGN=LEFT>4.4.7 Manual Beaming</H3>
<P ALIGN=LEFT STYLE="font-weight: medium">Now let's do two more
things to enhance readability. I'm used to reading beamed groups that
count out to one beat. Let's separate those two groups, and add
another slur. Select the first two 8<SUP>th</SUP> notes in that
four-note group, then use <B>Group -&gt; Beam Group</B> to fuse those
two together. The remaining two notes adapt automatically, and remain
beamed. Now select all four of the 8<SUP>th</SUP> notes plus the half
note and add a slur. Finally, notice that the note stems are in the
way of the slur. Let's select the second pair of 8<SUP>th</SUP> notes
and use <B>Notes -&gt; Stem Direction -&gt; Stems Down</B> or else
<B>ctrl-PageDown</B> to change their direction. You should wind up
with a measure resembling this one:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_75fa38d8.png" NAME="Graphic26" ALIGN=BOTTOM WIDTH=350 HEIGHT=112 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Continue in this fashion
until you finish altering the notation so that it's nice and tidy. I
think you should have a pretty good idea how to proceed from here, so
I'm not going to walk you through the rest of this job.</P>
<H3 CLASS="western" ALIGN=LEFT>4.4.8 The Text Cursor</H3>
<P ALIGN=LEFT STYLE="font-weight: medium">Now let's add some
directions. Exchange your <B>Select</B> cursor for a <B>Text 
<IMG SRC="../pixmaps/text-cursor.png" NAME="Graphic16" ALIGN=BOTTOM WIDTH=40 HEIGHT=34 BORDER=0></B>cursor.
Click toward the beginning of the staff, near the clef. Let's start
by adding a tempo and a dynamic of ff, (since my dynamic range is
from ff to fffff :). Click the cursor where you want the text to
appear, then configure it via the dialog.</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_602e7230.png" NAME="Graphic27" ALIGN=BOTTOM WIDTH=253 HEIGHT=265 BORDER=0></P>
<P>It's pretty self-explanatory. My score ended up looking like:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="../pixmaps/post-quantized8.png" NAME="Graphic28" ALIGN=BOTTOM WIDTH=288 HEIGHT=184 BORDER=0></P>
<P><FONT SIZE=2><I>NOTE:  Did you notice that one of the available
text types was called &quot;annotation?&quot;  You can use these to
make notes on your score, and can control whether or not you see them
via the <B>Settings -&gt; Show Annotations </B><SPAN STYLE="font-weight: medium">toggle.</SPAN></I></FONT></P>
<H2 CLASS="western">4.5 A Change of Key</H2>
<P>(unfinished...  sorry...)</P>
<P>This section will talk about ways of transposing a part to a new
key, and then about how to write a part for a  transposing instrument
(eg. a B<SUB>b</SUB> trumpet) so that it sounds in one key and is
written in another.  I just haven't had time to sit down and write
it.  Writing documentation to this standard is a very time consuming
process.  I hope you agree that it's worth the time, and worth the
wait.</P>
<H3 CLASS="western">4.5.1 Multiple Staffs</H3>
<P>Until now, we've only edited the one part. The <B>Notation Editor</B>
allows you to edit any number of segments simultaneously. Since we're
going to transpose the entire composition, let's use <B>Edit -&gt;
Select All Segments</B> and then <B>Segments -&gt; Open in Notation
Editor</B>.</P>
<P STYLE="font-weight: medium">(unfinished... sorry...)</P>
<P STYLE="font-weight: medium">Quick note:  you can select multiple
segments and edit them in one window.  That's what I'll show you here
eventually, explaining it in my usual level of detail, by running
through and grabbing screenshots as I go, to make sure I get it
right.</P>
<H2 CLASS="western">4.6 Printing</H2>
<P>The current design plan calls for a rudimentary print facility
incorporated within Rosegarden itself, whose purpose is to allow
rough draft printing, combined with off-loading the task onto an
external utility for high quality printing.  The print engine in CVS
works pretty well for draft printing.  The print engine in 0.8.5 is
totally horrible.  If you want to print notation, dump 0.8.5 and get
CVS.</P>
<P>The &quot;external utility&quot; of choice is Lilypond, and we've
put a lot of effort into making Rosegarden a useful front end for
Lilypond.  We also support music XML, but the active development is
on Lilypond export.</P>
<P STYLE="margin-bottom: 0in; font-weight: medium"><BR>
</P>
<P STYLE="font-weight: medium">If you have a look at the <B>File -&gt;
Export...</B> menu, you'll see that it's possible to export your
compositions in both Lilypond and MusicXML formats:</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<P STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m5c3fd539.png" NAME="Graphic46" ALIGN=LEFT WIDTH=460 HEIGHT=300 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P STYLE="font-style: normal; font-weight: medium"><BR><BR>
</P>
<P>I've spent many hours on the Lilypond export code myself, trying
to make it work as well as possible.  I've added a lot to what Hans
originally provided, and there have been many improvements.  Notably,
I've taken advantage of Rosegarden's new &quot;metadata&quot;
facility to provide  mechanism for exporting user-specified headers. 
<SPAN STYLE="font-weight: medium">I'm very grateful to Chris and
Guillaume for providing some way for me to be able to export these,
and for you to enter them.  </SPAN>This really deserves a proper
explanation, complete with visuals, but I don't have time to do it
right.  For now, a brief description:</P>
<P>Look at <B>Edit -&gt; Edit Document Properties</B><SPAN STYLE="font-weight: medium">,
then look at the</SPAN><B> Description</B><SPAN STYLE="font-weight: medium">
tab.  Put the header name (eg. &quot;title&quot;) in the </SPAN><B>Name</B><SPAN STYLE="font-weight: medium">
field, and the string you want attached to that header in the </SPAN><B>Value</B><SPAN STYLE="font-weight: medium">
field.  All 14 possible headers are exported now, but the interface
is still a bit weird.  </SPAN>
</P>
<P>In spite of all this effort, however, Lilypond export is an
imperfect thing.  Rosegarden and Lilypond have different ideas about
how to draw some things, and there's no getting around the need to
manually tweak your Lilypond files for the best possible results, or
at least to feed the export a set of things that it can translate
well. 
</P>
<P>With careful planning, good results are possible, but if you
attach five marks to every note and have all sorts of performance
directions and whatnot in the same space, Lilypond will jumble it up.
 There just isn't any reasonable mechanism for getting Lilypond to
render things as far above or below the staff as Rosegarden does, and
there's only so much an export filter can do.</P>
<P>If there's something you don't like about the Lilypond export,
please let me know.  Hans is still the official &quot;owner&quot; of
the code, but I'm currently the one actively working on it.  There
are still some bugs and missing features, and I'm eager to get user
feedback; particularly to hear whether you like the way I've
implemented the new features, and what you'd like done differently. 
I want to make this as useful to you as it can be, and I have both
the time and willingness to devote a lot of effort to incremental
improvements.</P>
<P>Recent improvements in CVS:</P>
<UL>
	<UL>
		<LI><P>all accidentals and enharmonic spellings handled correctly</P>
		<LI><P>text events (Tempo, Local Tempo, dynamics, etc.) exported as
		well as practicable.</P>
		<LI><P>marks exported as well as practicable</P>
		<LI><P>user-specified Lilypond headers available</P>
	</UL>
</UL>
<P STYLE="font-weight: medium">It doesn't sound like much, but I have
hundreds of hours invested in making those improvements.  I hope you
like them.  :)</P>
<H1 CLASS="western">5 Using Audio 
</H1>
<P>Those of you with a keen interest in matters audio have probably
been wondering why it took me so long to get to this.  The truth is,
I've just never gotten around to trying to do anything serious in
this area, and I haven't really done much with these features.  As I
said in the introduction, I am not an audio guy.</P>
<P>At present, I can't offer the same level of detail as in the rest
of this guide, because what I say here is not based on real
experience.  Still, there is great demand for information on this
subject, so I will do what I can to show you how to make use of the
features.  <I>(If I'm leaving something important out, or my
explanation is really off, feel free to let me know.)</I></P>
<P STYLE="font-weight: medium">We'll start by loading the composition
we worked on in Project 1, then add some audio to it and look at how
to manipulate it.</P>
<H2 CLASS="western">5.1 Configuring an Audio Editor</H2>
<P>Rosegarden has no built-in facility for editing audio.  Instead,
it provides a mechanism for you to configure an external editor, via
<B>Settings -&gt; Configure Rosegarden</B><SPAN STYLE="font-weight: medium">
on the </SPAN><B>External Editors</B><SPAN STYLE="font-weight: medium">
tab:</SPAN></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m6fa8034d.png" NAME="Graphic74" ALIGN=BOTTOM WIDTH=753 HEIGHT=396 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">You can browse to your
editor of choice via the <B>Choose...</B> button, or type the name of
the executable.  My personal preference is for Audacity
(<A HREF="http://audacity.sourceforge.net/"><SPAN STYLE="font-weight: medium">http://audacity.sourceforge.net/</SPAN></A><SPAN STYLE="font-weight: medium">),
which I really like, but there are many suitable editors available.</SPAN></P>
<H2 CLASS="western">5.2 Importing Existing Audio</H2>
<P>There are two ways to get audio into Rosegarden.  If you wish to
import projects that you have been working on with some other
application, you can import the audio files and insert them into your
composition.  The heart of this facility is the <B>Segments -&gt;
Manage Audio Segments...</B><SPAN STYLE="font-weight: medium"> menu,
tucked away at the bottom, below the divider:</SPAN></P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_3e0d1475.png" NAME="Graphic47" ALIGN=BOTTOM WIDTH=359 HEIGHT=252 BORDER=0></P>
<P STYLE="font-weight: medium">This takes you to the dialog you use
to select audio files for insertion into your compositions:</P>
<P STYLE="font-weight: medium"><BR><BR>
</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m4e2b1e73.png" NAME="Graphic61" ALIGN=BOTTOM WIDTH=773 HEIGHT=286 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Using this is fairly
straightforward.  Use the <B>Add Audio File</B> button to pick a
file, which will then appear in the list.  I'll just grab some .wav
files that I have handy, since I haven't actually recorded anything
related to this composition:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_344dd7d6.png" NAME="Graphic69" ALIGN=BOTTOM WIDTH=773 HEIGHT=286 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Once the files are loaded,
some statistics are printed, and a brief preview appears.  You can us
the <B>Play Preview</B> button to hear what you've got. 
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT SIZE=2><I>NOTE: If
the <B>Play Preview</B> button is grayed out, as in the above
example, it probably means that either Rosegarden wasn't compiled
with audio features enabled, or else your audio server is not
running.  In my case, I forgot to run Jack before starting
Rosegarden.</I></FONT></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Once you're satisfied that
you've selected the correct files, you can insert them into your
composition one by one with the <B>Insert into Composition</B>
button.  Let's insert &quot;rouen.wav&quot; and make both Dave Barry
and Guillaume Laurent proud:</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_12ab5630.png" NAME="Graphic75" ALIGN=BOTTOM WIDTH=414 HEIGHT=63 BORDER=0></P>
<P ALIGN=LEFT STYLE="font-weight: medium">Newly-inserted audio
segments go into a new track of their own, and it's always appended
to the bottom of the <B>Tracklist</B>.</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT SIZE=2><I>TIP: If
you're working on a newly-created composition, rather than one that
is based on a MIDI import, it will start with a large number of
tracks.  It may appear that nothing happened after you hit the <B>Insert
into Composition...</B> button.  Scroll down to the bottom, and you
should see a new track with your audio segment inserted.</I></FONT></P>
<H2 CLASS="western" STYLE="font-weight: medium">5.3 Recording</H2>
<P STYLE="font-weight: medium">It is possible to record directly into
Rosegarden.  First you'll want to point the track to a Jack source in
the same fashion used to assign tracks to MIDI devices.</P>
<P ALIGN=CENTER STYLE="font-weight: medium"><IMG SRC="using-rosegarden_html_m1bb3bee5.png" NAME="Graphic76" ALIGN=BOTTOM WIDTH=386 HEIGHT=394 BORDER=0></P>
<P STYLE="font-weight: medium"><FONT SIZE=2><I>NOTE: I honestly have
no idea what JACK Audio #0 through #15 mean.</I></FONT></P>
<P>Now if the 
<IMG SRC="../pixmaps/record-button.png" NAME="Graphic77" ALIGN=BOTTOM WIDTH=16 HEIGHT=17 BORDER=0>
button is toggled for the track, making it the destination for record
operations, any signal on the mixer channel you've selected as the
record source (via KMix or the like) should be recorded, and should
wind up in an audio segment.</P>
<P><FONT SIZE=2><I>NOTE: The one time I tried that, it didn't work
very well, and I haven't tried to do it since.  I'm not sure whether
or not this is actually supposed to work.  I need to play with that,
but at this writing I am quickly running out of time, and want to get
this out the door.  I don't currently have Jack working, and don't
have time to figure out why it's broken.</I></FONT></P>
<H2 CLASS="western">5.4 Manipulating Audio Segments</H2>
<P><I>Audio segments behave in the same fashion as segments
containing notation data.  You can drag them around, drag them from
track to track, and so on.  You can split them, move bits of them
around.  I don't have time to show you any of that at this writing. 
I need to go to work, and I want to get this published before I go.</I></P>
<P><I>I plan to:</I></P>
<P><I>	check on recording</I></P>
<P><I>	find out what jack #0 &ndash; 15 mean</I></P>
<P><I>	explain how to use Edit Audio and Auto-Split Audio</I></P>
<P><I>	do a real project with a mixture of MIDI and audio</I></P>
<P><I>	demonstrate the use of LADSPA plugins</I></P>
<P><I>	???</I></P>
<H1 CLASS="western">6 That's All, Folks...</H1>
<P>That's all I've had time to do to date.  There are many more
topics I wish to treat eventually, but there are so many developments
in the works at the time of this writing that I'm just as well off to
hold back, to reduce the amount of material I will have to adapt to
suit changing future realities.  I've already written about far too
many features that are only available in CVS as it is.</P>
<P>I hope what you've seen has given you ideas for projects that <B>you</B><SPAN STYLE="font-weight: medium">
can do with Rosegarden.  If I've left something that's very important
to you out, please feel free to send me a note at
</SPAN><A HREF="mailto:dmmcintyr@users.sourceforge.net"><SPAN STYLE="font-weight: medium">dmmcintyr@users.sourceforge.net</SPAN></A><SPAN STYLE="font-weight: medium">
and I will try to accommodate your need and discuss it sooner.</SPAN></P>
<P STYLE="font-weight: medium">D. Michael McIntyre</P>
</BODY>
</HTML>
